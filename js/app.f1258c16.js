webpackJsonp([1],{0:function(t,e,a){t.exports=a("NHnr")},"52zn":function(t,e,a){t.exports="img/am.2c8f522e.jpg"},"5qEl":function(t,e,a){t.exports="img/geo.f6c47d7f.jpg"},G3BA:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("/5sW"),s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"card center"},[n("div",{staticClass:"row"},[n("div",{staticClass:"arm"},[n("img",{attrs:{src:a("52zn"),alt:"Armenian`s rull",title:"Лучшая нация"}})]),n("div",{staticClass:"text-content"},[n("h5",[t._v("Who Wins ?")])]),n("div",{staticClass:"geo"},[n("img",{attrs:{src:a("5qEl"),alt:"Georgian`s Suck",title:"Худшая нация"}})])]),n("div",{staticClass:"info"},[n("h6",[t._v("Created and Powerd  By Robert Aslanyan , jsut for fun and for testing some feauters")])])])}],i=a("XyMi");function c(t){a("osJZ")}var o=null,l=!1,u=c,m="data-v-6c5d46a3",d=null,f=Object(i["a"])(o,s,r,l,u,m,d),p=f.exports,v={components:{"app-header":p}},h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("app-header"),a("router-view")],1)},g=[];function x(t){a("G3BA")}var _=!1,C=x,b=null,w=null,y=Object(i["a"])(v,h,g,_,C,b,w),D=y.exports,E=(a("EuXz"),a("mJx5"),a("/ocq")),H=a("Sazm"),k=a.n(H),A=(a("3VHS"),a("wmKo")),$=a.n(A);n["a"].use($.a);var j={apiKey:"AIzaSyCWwvlnk2RIlWDCh5c0O82Ds9ZytUsO2Pw",authDomain:"vue-chat-97b23.firebaseapp.com",databaseURL:"https://vue-chat-97b23.firebaseio.com",projectId:"vue-chat-97b23",storageBucket:"vue-chat-97b23.appspot.com",messagingSenderId:"1084147621171"};k.a.initializeApp(j);var M=k.a.firestore(),S={timestampsInSnapshots:!0};M.settings(S);var N=k.a.firestore();function I(t,e){var a=document.createElement(t);return e&&(a.className=e),a}function O(t){return document.querySelector(t)}function T(t){return void 0==t}var z=function(){return{Handler:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2500,n=O(".error")||O(".success")?n:I("div",e?"error":"success");if(!T(n)){n.textContent=t;var s=O('input[type="text"]');return s.insertAdjacentElement("afterend",n),setTimeout(function(){return n.remove()},a)}},scrollBottom:function(t){if(!T(t)&&!T(t.scrollHeight)&&!T(t.clientHeight))return t.scrollTop=t.scrollHeight},setCookie:function(t){var e=new Date;e.setTime(e.getTime()+864e3),document.cookie="name=".concat(t,";path=/;expires=").concat(e.toGMTString())},validate:function(t){var e=/^([a-z]{4,16})$/i;return!!e.test(t)||(this.Handler("Inavlid name. Name can contain only letters with min 4 and  max 16 length",!0,1e3),!1)},getNow:function(){var t=new Date,e=t.getHours(),a=t.getMinutes(),n=t.getSeconds(),s=t.getDay(),r=t.getMonth(),i=t.getFullYear();s=s<10?"0"+s:s,r=r<10?"0"+r:r;var c="".concat(e,":").concat(a<10?"0"+a:a,":").concat(n<10?"0"+n:n,"\n                        ").concat(e>12?"PM":"AM"),o="".concat(s,"/").concat(r,"/").concat(i);return{time:c,date:o}}}},B=z(),P={name:"app",data:function(){return{name:null}},firestore:function(){return{chats:N.collection("chats")}},methods:{validate:function(){return B.validate(this.name)},startChat:function(){this.name&&this.validate()?(B.setCookie(this.name),this.$router.push({name:"chat",params:{name:this.name}})):B.Handler("Enter your name before start chating")},deleteAllData:function(){if(!(this.chats.length<=0))return this.chats.map(function(t){N.collection("chats").doc(t[".key"]).delete()}),B.Handler("Data was deleted !",!1);B.Handler("Database is alredy empty")}}},W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"app"}},[a("h4",{staticClass:"center  green-text text-darken-1"},[t._v("Welcome")]),a("hr"),a("form",{on:{submit:function(e){e.preventDefault(),t.startChat()}}},[a("div",{staticClass:"input-field"},[a("i",{staticClass:"material-icons prefix"},[t._v("account_circle")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"icon_prefix",attrs:{type:"text",placeholder:"Your name...",name:"name"},domProps:{value:t.name},on:{input:[function(e){e.target.composing||(t.name=e.target.value)},function(e){t.validate()}]}})]),a("input",{staticClass:"btn green lighten-1",attrs:{type:"submit",value:"Ready"}}),this.name&&"robert"==this.name.toLowerCase()?a("input",{staticClass:"btn red lighten-1",attrs:{type:"button",value:"Delete Data"},on:{click:function(e){t.deleteAllData()}}}):t._e()])])},Y=[];function q(t){a("wwFv")}var F=!1,G=q,J="data-v-770370dc",R=null,Z=Object(i["a"])(P,W,Y,F,G,J,R),K=Z.exports,L={name:"home",components:{StartScreen:K}},U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("start-screen")],1)},V=[],X=!1,Q=null,tt=null,et=null,at=Object(i["a"])(L,U,V,X,Q,tt,et),nt=at.exports,st={props:["name","content"],data:function(){return{text:null}},methods:{scroll:function(){return B.scrollBottom(this.content)},addMessage:function(){var t=/^(\w+)\D+?(\w+)$/i,e={text:this.text,name:this.name,createdAt:B.getNow()};this.text&&t.test(this.text)?(N.collection("chats").add(e),this.scroll(),this.text=""):B.Handler("Invalid Value:Field must not be empty , and can`t start and end with space!")},deleteData:function(){var t=N.collection("chats").where("name","==",this.name);t.get().then(function(t){t.forEach(function(t){return t.ref.delete(),B.Handler("Your messages was deleted !",!1)})})}}},rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{on:{submit:function(e){e.preventDefault(),t.addMessage()}}},[a("div",{staticClass:"input-field btn-group"},[a("i",{staticClass:"material-icons prefix"},[t._v("forum")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{type:"text",placeholder:"Your Message..."},domProps:{value:t.text},on:{focus:t.scroll,input:function(e){e.target.composing||(t.text=e.target.value)}}}),a("div",{staticClass:"btn-group"},[t._m(0),a("button",{staticClass:"delete btn red ",attrs:{type:"button"},on:{click:function(e){t.deleteData()}}},[t._v("Delete Your messages\n          "),a("i",{staticClass:"material-icons prefix"},[t._v("delete")])])])])])},it=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"submit btn green ",attrs:{type:"submit"}},[t._v("Send Message\n          "),a("i",{staticClass:"material-icons prefix"},[t._v("send")])])}];function ct(t){a("NImH")}var ot=!1,lt=ct,ut=null,mt=null,dt=Object(i["a"])(st,rt,it,ot,lt,ut,mt),ft=dt.exports,pt={components:{NewMessage:ft},data:function(){return{name:document.cookie.split("=")[1]}},firestore:function(){return{chats:N.collection("chats").orderBy("createdAt")}}},vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-action"},[a("h4",{staticClass:"center orange-text text-darken-3"},[t._v("Aslanyan`s Chat v1.1")]),a("hr"),a("div",{ref:"content",staticClass:"card-content"},[a("ul",{staticClass:"messages"},t._l(t.chats,function(e){return a("li",{class:t.name==e.name?"current":"another"},[a("span",{staticClass:"name red-text text-darken-2"},[t._v(t._s(t.name==e.name?"You":e.name))]),a("p",{staticClass:"message aqua-text"},[t._v(t._s(e.text))]),a("span",{staticClass:"time cyan-text lighten-4"},[t._v(t._s(e.createdAt.time))]),a("span",{staticClass:"date cyan-text lighten-4"},[t._v(t._s(e.createdAt.date))])])}))]),a("new-message",{attrs:{name:t.name,content:this.$refs["content"]}})],1)])])},ht=[];function gt(t){a("c2T5")}var xt=!1,_t=gt,Ct="data-v-ad72ae42",bt=null,wt=Object(i["a"])(pt,vt,ht,xt,_t,Ct,bt),yt=wt.exports;n["a"].use(E["a"]);var Dt=new E["a"]({mode:"history",routes:[{path:"/",name:"main",component:nt},{path:"/chat",name:"chat",component:yt,props:!0,beforeEnter:function(t,e,a){var n=document.cookie.split("=")[1],s=t.params.name;return s=n,s?a():a({path:"/"})}}]});n["a"].config.productionTip=!1,new n["a"]({router:Dt,render:function(t){return t(D)}}).$mount("#app")},NImH:function(t,e){},c2T5:function(t,e){},osJZ:function(t,e){},wwFv:function(t,e){}},[0]);
//# sourceMappingURL=app.f1258c16.js.map