webpackJsonp([1],{0:function(t,e,n){t.exports=n("NHnr")},"52zn":function(t,e,n){t.exports="img/am.2c8f522e.jpg"},"5qEl":function(t,e,n){t.exports="img/geo.f6c47d7f.jpg"},CLBm:function(t,e){},G3BA:function(t,e){},G70p:function(t,e){},Hj42:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("/5sW"),s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"card center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"arm"},[a("img",{attrs:{src:n("52zn"),alt:"Armenian`s rull",title:"Лучшая нация"}})]),a("div",{staticClass:"text-content"},[a("h5",[t._v("Who Wins ?")])]),a("div",{staticClass:"geo"},[a("img",{attrs:{src:n("5qEl"),alt:"Georgian`s Suck",title:"Худшая нация"}})])]),a("div",{staticClass:"info"},[a("h6",[t._v("Created and Powerd  By Robert Aslanyan , jsut for fun and for testing some feauters")])])])}],o=n("XyMi");function r(t){n("osJZ")}var c=null,l=!1,u=r,d="data-v-6c5d46a3",m=null,f=Object(o["a"])(c,s,i,l,u,d,m),h=f.exports,_={components:{"app-header":h}},p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("app-header"),n("router-view")],1)},v=[];function x(t){n("G3BA")}var g=!1,C=x,b=null,F=null,y=Object(o["a"])(_,p,v,g,C,b,F),w=y.exports,A=(n("EuXz"),n("mJx5"),n("/ocq")),k=n("Sazm"),j=n.n(k),D=(n("3VHS"),n("wmKo")),N=n.n(D);a["a"].use(N.a);var E={apiKey:"AIzaSyCWwvlnk2RIlWDCh5c0O82Ds9ZytUsO2Pw",authDomain:"vue-chat-97b23.firebaseapp.com",databaseURL:"https://vue-chat-97b23.firebaseio.com",projectId:"vue-chat-97b23",storageBucket:"vue-chat-97b23.appspot.com",messagingSenderId:"1084147621171"};j.a.initializeApp(E);var M=j.a.firestore(),S={timestampsInSnapshots:!0};M.settings(S);var T=j.a.firestore(),O=(n("VjuZ"),n("gbyG"),n("Gh7F"),n("MfeA"),n("9Yib"),n("A0n/"),n("fx22"),{MOUNTS:{0:"Jan",1:"Feb",2:"Mar",3:"Apr",4:"May",5:"Jun",6:"Jul",7:"Aug",8:"Sep",9:"Oct",10:"Nov",11:"Dec"},MOUNTS_DAY:{1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat",0:"Sun"}}),H=O,I={_smile1:"&#x1F601;",_smile2:"&#x1F602;",_smile3:"&#x1F603;",_smile4:"&#x1F604;",_smile5:"&#x1F605;",_smile6:"&#x1F606;",_winking:"&#x1F609;",_tongue1:"&#x1F60B;",_tongue2:"&#x1F61D",_relived:"&#x1F60C;",_in_love:"&#x1F60D;",_smirking:"&#x1F60F;",_unamused:"&#x1F612;",_sweat:"&#x1F613;",_kiss:"&#x1F618;",_kissing:"&#x1F61A;",_winking_eye:"&#x1F61C;",_satisfied:"&#x1F60A;",_sad1:"&#x1F61E;",_sad2:"&#x1F614;",_sad3:"&#x1F623;",_sad4:"&#x1F625;",_sad5:"&#x1F630;",_sad6:"&#x1F629;",_scary1:"&#x1F628;",_scary2:"&#x1F631",_angry1:"&#x1F620;",_angry2:"&#x1F621;",_angry3:"&#x1F624;",_cry1:"&#x1F622;",_cry2:"&#x1F62D;",_sleepy:"&#x1F62A;",_tired:"&#x1F62B;",_shock1:"&#x1F632;",_shock2:"&#x1F633;",_shock3:"&#x1F635;",_face_mask:"&#x1F637;",_cat_smile1:"&#x1F638",_cat_smile2:"&#x1F639;",_cat_smile3:"&#x1F63A;",_cat_love:"&#x1F63B;",_cat_wry:"&#x1F63C;",_cat_kiss:"&#x1F63D;",_cat_angry:"&#x1F63E;",_cat_cry:"&#x1F63F;",_cat_shock:"&#x1F640;",_girl_face1:"&#x1F645;",_girl_face2:"&#x1F646;",_girl_face3:"&#x1F64B;",_girl_face4:"&#x1F64D;",_girl_face5:"&#x1F64E",_man1:"&#x1F647;",_mokey1:"&#x1F648;",_monkey2:"&#x1F649;",_monkey_3:"&#x1F64A;",_pray:"&#x1F64F;",_peace:"&#x270C;",_raised1:"&#x1F64C;",_raised2:"&#x270A;",_raised3:"&#x270B;",_clap:"&#x1F44F;",_open_hand:"&#x1F450;",_like:"&#x1F44D;",_unlike:"&#x1F44E;",_ok:"&#x1F44C;",_waving:"&#x1F44B;",_dam:"&#x1F44A;",_to_right_hand:"&#x1F449;",_to_left_hand:"&#x1F448;",_love1:"&#x1F493;",_love2:"&#x1F495;",_love3:"&#x1F496;",_broken_heart:"&#x1F494;",_poop:"&#x1F4A9",_dash:"&#x1F4A8;"},B=I;function $(t,e){var n=document.createElement(t);return e&&(n.className=e),n}function Y(t){return document.querySelector(t)}function L(t){return document.querySelectorAll(t)}function P(t){return void 0==t}function U(t,e){for(var n in t)if(Number(n)==e)return t[n]}var q=function(){var t=new Date;return{Handler:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2500,a=Y(".error")||Y(".success")?a:$("div",e?"error":"success");if(!P(a)){a.textContent=t;var s=Y(".input-field");return s.insertAdjacentElement("afterend",a),setTimeout(function(){return a.remove()},n)}},scrollBottom:function(t){if(!P(t)&&!P(t.scrollHeight)&&!P(t.clientHeight))return t.scrollTop=t.scrollHeight},setCookie:function(e){t.setTime(t.getTime()+864e3),document.cookie="name=".concat(e,";path=/;expires=").concat(t.toGMTString())},validate:function(t){var e=/^([a-z]{4,16})$/i;return!!e.test(t)||(this.Handler("Inavlid name. Name can contain only letters with min 4 and  max 16 length",!0,1500),!1)},deleteAllData:function(t){if(!(t<=0))return T.collection("chats").get().then(function(t){t.forEach(function(t){t.ref.delete()})}),this.Handler("Data was deleted !",!1);this.Handler("Database is alredy empty")},getFullDate:function(){var e=t.getDate(),n=t.getDay(),a=t.getMonth(),s=t.getFullYear();a=U(H.MOUNTS,a),n=U(H.MOUNTS_DAY,n);var i="".concat(n," ").concat(e," ").concat(a," ").concat(s);return i},getNow:function(){var t=new Date,e=t.getHours(),n=t.getMinutes(),a=t.getSeconds(),s="".concat(e,":").concat(n<10?"0"+n:n,":").concat(a<10?"0"+a:a,"\n                        ").concat(e>12?"PM":"AM");return{time:s,date:this.getFullDate()}},insertTo:function(t,e,n){t.appendChild(e),t.appendChild(n)},emojiParser:function(t){var e=/_\w+/gi,n=!0,a=!1,s=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var r=i.value,c=r.textContent.trim(),l=c.match(e);if(e.test(c))for(var u in B)for(var d=0;d<l.length;d++)c.includes(l[d])&&u==l[d]&&(c=c.replace(l[d],B[u]),r.setAttribute("data-code",u),r.innerHTML=c)}}catch(t){a=!0,s=t}finally{try{n||null==o.return||o.return()}finally{if(a)throw s}}},setEmojis:function(t){for(var e in B){var n=$("span","emoji");n.innerHTML=B[e],n.setAttribute("title",e),t.appendChild(n)}},deleteEmojis:function(){var t=L(".emoji");P(t)||t.forEach(function(t){return t.remove()})},getEmojis:function(){var t=L(".emoji"),e=Y(".main_input");t.forEach(function(t){t.addEventListener("click",function(){var n=t.textContent;e.value+=n+" "})})}}},G=q(),z={name:"app",data:function(){return{name:null,isAdmin:!1}},firestore:function(){return{chats:T.collection("chats")}},methods:{validate:function(){return this.name.toUpperCase()==="Robert".toUpperCase()&&(this.isAdmin=!0),G.validate(this.name)},startChat:function(){this.name&&this.validate()?(G.setCookie(this.name),this.$router.push({name:"chat",params:{name:this.name}})):G.Handler("Enter your name before start chating")},deleteAllData:function(){return G.deleteAllData(this.chats)}}},J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"app"}},[n("h4",{staticClass:"center  green-text text-darken-1"},[t._v("Welcome")]),n("hr"),n("form",{on:{submit:function(e){e.preventDefault(),t.startChat()}}},[n("div",{staticClass:"input-field"},[n("i",{staticClass:"material-icons prefix"},[t._v("account_circle")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"icon_prefix",attrs:{type:"text",placeholder:"Your name...",name:"name"},domProps:{value:t.name},on:{input:[function(e){e.target.composing||(t.name=e.target.value)},function(e){t.validate()}]}})]),n("input",{staticClass:"btn green lighten-1",attrs:{type:"submit",value:"Ready"}}),t.isAdmin?n("input",{staticClass:"btn red lighten-1",attrs:{type:"button",value:"Delete Data"},on:{click:function(e){t.deleteAllData()}}}):t._e()])])},W=[];function R(t){n("CLBm")}var V=!1,Z=R,X="data-v-57ffc830",K=null,Q=Object(o["a"])(z,J,W,V,Z,X,K),tt=Q.exports,et={name:"home",components:{StartScreen:tt}},nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("start-screen")],1)},at=[],st=!1,it=null,ot=null,rt=null,ct=Object(o["a"])(et,nt,at,st,it,ot,rt),lt=ct.exports,ut={data:function(){return{emojisShow:!1}},methods:{emojiParse:function(){this.emojisShow=!this.emojisShow,this.emojisShow?(G.setEmojis(this.$refs["emoji_content"]),G.getEmojis()):G.deleteEmojis()}}},dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"emoji_main"},[n("i",{staticClass:"material-icons prefix emoji_btn",on:{click:t.emojiParse}},[t._v("sentiment_very_satisfied")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.emojisShow,expression:"emojisShow"}],ref:"emoji_content",staticClass:"emoji_content"})])},mt=[];function ft(t){n("Hj42")}var ht=!1,_t=ft,pt=null,vt=null,xt=Object(o["a"])(ut,dt,mt,ht,_t,pt,vt),gt=xt.exports,Ct={props:["name","content","issetMessage"],components:{Emoji:gt},data:function(){return{text:null,maxTextLenght:100,disabled:!1}},computed:{length:function(){if(this.text)return this.text.length}},methods:{scroll:function(){return G.scrollBottom(this.content)},textLength:function(){if(this.text&&this.text.length<=this.maxTextLenght)return this.text.length;this.disabled=!0},addMessage:function(){var t=/^[^\s]+/,e=document.querySelector(".main_input");this.text=""===e.value?this.text:e.value;var n={text:this.text,name:this.name,createdAt:Date.now(),date:G.getNow()};this.textLength(e)&&t.test(this.text)?(T.collection("chats").add(n),this.scroll(),this.text=""):G.Handler("Invalid Value:Field must not be empty , and can`t start and end with space!")},deleteAllData:function(){var t=T.collection("chats").where("name","==",this.name);t.get().then(function(t){t.forEach(function(t){return t.ref.delete(),G.Handler("Your messages was deleted !",!1)})})}}},bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("form",{on:{submit:function(e){e.preventDefault(),t.addMessage()}}},[n("div",{staticClass:"input-field flex-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"main_input",attrs:{type:"text",placeholder:"Your Message...",disabled:t.disabled},domProps:{value:t.text},on:{focus:t.scroll,input:[function(e){e.target.composing||(t.text=e.target.value)},t.textLength],dblclick:function(e){t.disabled,t.disabled}}}),n("emoji")],1),n("div",{staticClass:"btn-group"},[n("button",{staticClass:"submit btn green button",attrs:{type:t.disabled?"button":"submit"},on:{click:function(e){t.disabled=!1}}},[t._v("\n               "+t._s(t.disabled?"change text":"Send message")+"\n              "),t.disabled?t._e():n("i",{staticClass:"material-icons prefix"},[t._v("send")]),n("span",{staticClass:"max-text"},[t._v(t._s(t.length?t.length:0)+"/100")])]),n("button",{staticClass:"delete btn red button",attrs:{type:"button",disabled:0==t.issetMessage},on:{click:function(e){t.deleteAllData()}}},[t._v("Delete message\n              "),n("i",{staticClass:"material-icons prefix"},[t._v("delete")])])])])])},Ft=[];function yt(t){n("NImH")}var wt=!1,At=yt,kt=null,jt=null,Dt=Object(o["a"])(Ct,bt,Ft,wt,At,kt,jt),Nt=Dt.exports,Et={props:{name:{type:String},counts:{type:Object}},data:function(){return{isClose:!0,show:!1,newName:null}},methods:{change:function(){this.isClose=!1},close:function(){this.isClose=!0},validate:function(){return G.validate(this.newName)},changeName:function(){var t=this;this.validate()&&this.newName&&T.collection("chats").where("name","==",this.name).get().then(function(e){e.forEach(function(e){e.data().name==t.name&&e.ref.update({name:t.newName})}),G.setCookie(t.newName),location.reload()})},deleteData:function(){return G.deleteAllData(this.counts.allMessage)}},computed:{isAdmin:function(){if(this.name.toUpperCase()==="robert".toUpperCase())return!0}}},Mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"btn-group"},[n("button",{staticClass:"btn lighten-1 button",attrs:{type:"button"},on:{click:t.change}},[n("i",{staticClass:"material-icons prefix",attrs:{title:"Change User Name"}},[t._v("person")]),t._v("\n              Change Name\n          ")]),n("button",{staticClass:"btn indigo lighten-1 button",attrs:{type:"button"},on:{click:function(e){t.show=!t.show}}},[t._v(" \n                  Chat Info\n                  "),n("i",{staticClass:"material-icons prefix",attrs:{title:"More info"}},[t._v("\n                      "+t._s(t.show?"arrow_drop_up":"arrow_drop_down")+"\n                  ")])]),t.isAdmin?n("button",{staticClass:"btn red button",attrs:{type:"button"},on:{click:function(e){t.deleteData()}}},[t._v("\n              Delete All Data\n              "),n("i",{staticClass:"material-icons prefix"},[t._v("delete")])]):t._e()]),n("transition",{attrs:{name:"bounce"}},[t.show?n("div",{staticClass:"chat-info"},[n("ul",[n("li",[n("span",{staticClass:"name-header"},[t._v("Your Name: "),n("strong",[t._v(t._s(t.name))])])]),n("li",[n("span",[t._v("Your Message Count: "),n("strong",[t._v(t._s(t.counts.curentMessage))])])])]),n("ul",[n("li",[n("span",[t._v("All Messages Count: "),n("strong",[t._v(t._s(t.counts.allMessage))])])]),n("li",[n("span",[t._v("Users Count: "),n("strong",[t._v(t._s(t.counts.usersCount))])])])]),n("span",{staticClass:"version"},[t._v("Version:1.7.4")])]):t._e()]),t.isClose?t._e():n("div",{staticClass:"modal_main",style:t.isClose?"display:none":"display:block"},[n("div",{staticClass:"modal_content"},[n("div",{staticClass:"close",on:{click:t.close}},[n("i",{staticClass:"material-icons prefix"},[t._v("close")])]),n("form",{on:{submit:function(e){e.preventDefault(),t.changeName()}}},[n("div",{staticClass:"input-field"},[n("i",{staticClass:"material-icons prefix"},[t._v("person_outline")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newName,expression:"newName"}],attrs:{type:"text",placeholder:"New name..."},domProps:{value:t.newName},on:{input:[function(e){e.target.composing||(t.newName=e.target.value)},t.validate]}}),n("div",{staticClass:"btn-group"},[n("button",{staticClass:"btn submit",attrs:{type:"submit"}},[t._v("Submit")]),n("button",{staticClass:"btn red accent-3",attrs:{type:"button"},on:{click:t.close}},[t._v("Dismiss")])])])])])])],1)},St=[];function Tt(t){n("yMcY")}var Ot=!1,Ht=Tt,It=null,Bt=null,$t=Object(o["a"])(Et,Mt,St,Ot,Ht,It,Bt),Yt=$t.exports,Lt={components:{NewMessage:Nt,ChangeName:Yt},data:function(){return{name:document.cookie.split("=")[1],chatInfo:{allMessage:0,curentMessage:0,usersCount:0}}},firestore:function(){return{chats:T.collection("chats").orderBy("createdAt")}},methods:{deleteData:function(t){var e=t.target;if("current"==e.classList[0]){var n=e.childNodes[2],a=e.firstChild.value,s=n.getAttribute("data-code")?n.getAttribute("data-code"):n.textContent;T.collection("chats").where("name","==",a).get().then(function(t){t.forEach(function(t){t.data().text==s&&(G.Handler("Your Message was deleted!",!1,2e3),t.ref.delete())})})}}},updated:function(){var t=this,e=document.querySelectorAll(".message"),n=/https?:(\/\/)(\w+)\.(\w{2,10})(\.\w{2,10})?\/?/i;e.forEach(function(t){var e=t.textContent;if(e.match(n)){var a="",s="",i=document.createElement("a");i.setAttribute("target","_blank");var o=-1!==e.indexOf("h")?e.indexOf("h"):e.indexOf("H"),r=e.indexOf(" "),c=e.lastIndexOf(" ");return 0==o?-1===r?(a=e,t.appendChild(i)):(a=e.slice(0,r),s=document.createTextNode(e.slice(r)),G.insertTo(t,i,s)):r===c?(a=e.slice(o),s=document.createTextNode(e.slice(0,o)),G.insertTo(t,s,i)):(a=e.slice(r,c),s=document.createTextNode(e.slice(0,r)),G.insertTo(t,s,i),s=document.createTextNode(e.slice(c)),t.appendChild(s)),i.setAttribute("href",a),i.textContent="".concat(a)}}),T.collection("chats").get().then(function(e){var n=[];return e.forEach(function(e){if(e.data().name==t.name)return n.push(t.name)}),t.chatInfo.curentMessage=n.length}),T.collection("chats").get().then(function(e){var n=[];return e.forEach(function(t){return n.push(t.ref.id)}),t.chatInfo.allMessage=n.length}),T.collection("chats").get().then(function(e){var n=[];return e.forEach(function(t){return n.push(t.data().name)}),n=n.filter(function(t,e,n){return n.indexOf(t)==e}),t.chatInfo.usersCount=n.length}),G.emojiParser(e)}},Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-action"},[n("h4",{staticClass:"center orange-text text-darken-3"},[t._v("Aslanyan`s Chat")]),n("hr"),n("change-name",{attrs:{name:t.name,counts:t.chatInfo}}),n("div",{ref:"content",staticClass:"card-content"},[n("span"),n("ul",{staticClass:"messages"},t._l(t.chats,function(e,a){return n("li",{key:a,class:t.name==e.name?"current delete":"another",on:{click:function(e){return e.target!==e.currentTarget?null:t.deleteData(e)}}},[t.name==e.name?n("input",{attrs:{type:"hidden",name:"hidden_name"},domProps:{value:t.name}}):t._e(),n("span",{staticClass:"name red-text text-darken-2"},[t._v(t._s(t.name==e.name?"You":e.name))]),n("p",{ref:"input",refInFor:!0,staticClass:"message aqua-text"},[t._v(t._s(e.text))]),n("span",{staticClass:"time cyan-text lighten-4"},[t._v(t._s(e.date.time))]),n("span",{staticClass:"date cyan-text lighten-4"},[t._v(t._s(e.date.date))])])}))]),n("new-message",{attrs:{name:t.name,content:this.$refs["content"],issetMessage:t.chatInfo.curentMessage}})],1)])])},Ut=[];function qt(t){n("G70p")}var Gt=!1,zt=qt,Jt="data-v-5b55142c",Wt=null,Rt=Object(o["a"])(Lt,Pt,Ut,Gt,zt,Jt,Wt),Vt=Rt.exports;a["a"].use(A["a"]);var Zt=new A["a"]({mode:"history",routes:[{path:"/",name:"main",component:lt},{path:"/chat",name:"chat",component:Vt,props:!0,beforeEnter:function(t,e,n){var a=document.cookie.split("=")[1],s=t.params.name;return s=a,void 0===s&&n({path:"/"}),s?n():n({path:"/"})}}]}),Xt=n("hXDs"),Kt=n.n(Xt);a["a"].prototype.$emoji=Kt.a,a["a"].config.productionTip=!1,new a["a"]({router:Zt,render:function(t){return t(w)}}).$mount("#app")},NImH:function(t,e){},osJZ:function(t,e){},yMcY:function(t,e){}},[0]);
//# sourceMappingURL=app.68a7d549.js.map